var dnbvid=function(){return{ajax:function(B,A){var stateChange=function(){if(request.readyState==4){callbackFunction(request.status,request.responseText)}};var getRequest=function(){if(navigator.userAgent.match(/MSIE 9.0/i)){var xdr=new XDomainRequest;xdr.onload=function(){callbackFunction(200,xdr.responseText)};return xdr}else{if(window.XMLHttpRequest){return new XMLHttpRequest}}return false};var postBody=arguments[2]||"";var callbackFunction=A;var request=getRequest();try{if(request){var C=request;C.onreadystatechange=stateChange;if(postBody!==""){C.open("POST",B,true);C.setRequestHeader("X-Requested-With","XMLHttpRequest");C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.setRequestHeader("Connection","close")}else{C.open("GET",B,true)}C.withCredentials=true;C.send(postBody)}}catch(e){callbackFunction(200,'{"status": "404", "message":"not found"}')}},getData:function(api,type,resType,customParameters,callback){var customParametersQueryString="";if(customParameters){for(var customParameter in customParameters){if(customParameters.hasOwnProperty(customParameter)){if(customParameter.toString().match(/(p[1-9])\b|(p10)\b/g)){customParametersQueryString+="&"+customParameter.toString()+"="+customParameters[customParameter].toString()}}}}var url=location.protocol+"//"+api+".d41.co/api/?req="+api+"&form="+type+customParametersQueryString;this.ajax(url,function(status,resp){try{var response=JSON.parse(resp);if(resType=="raw"){callback(resp)}else{callback(response)}}catch(err){console.log("dnb_getData: could not parse JSON response: "+resp);callback({})}})}}}();
